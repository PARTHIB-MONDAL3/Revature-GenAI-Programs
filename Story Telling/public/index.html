<!doctype html> <html lang="en"> <head> <meta charset="utf-8" /> <title>Gen AI Demo Hub</title> <meta name="viewport" content="width=device-width, initial-scale=1" /> <!-- Tailwind via CDN (Demo only) --> <script src="https://cdn.tailwindcss.com"></script> </head> <body class="bg-gray-50 text-gray-900"> <div class="max-w-5xl mx-auto p-4 space-y-6"> <header class="flex items-center justify-between"> <h1 class="text-2xl font-semibold">ü§ñ Gen AI Demo Hub</h1> <div class="text-sm text-gray-600"> Tailwind via CDN is fine for demos; for production, install via CLI/PostCSS. Check Tailwind docs. </div> </header>
text
<!-- Token and Demo Controls -->
<section class="bg-white p-4 rounded shadow space-y-3">
  <div class="flex flex-col md:flex-row gap-3 items-start md:items-center">
    <input id="hfToken" type="password" placeholder="Hugging Face API Token (optional)"
           class="border rounded px-3 py-2 w-full md:w-2/3" />
    <label class="inline-flex items-center gap-2">
      <input id="forceDemo" type="checkbox" class="h-4 w-4" />
      <span>Force Demo Mode</span>
    </label>
    <button id="saveToken" class="px-4 py-2 bg-blue-600 text-white rounded">Use</button>
  </div>
  <p id="status" class="text-sm text-gray-600"></p>
</section>

<!-- Tabs -->
<nav class="flex gap-2 flex-wrap">
  <button data-tab="story" class="tab px-3 py-2 bg-blue-50 rounded">üìñ Story</button>
  <button data-tab="poem" class="tab px-3 py-2 bg-blue-50 rounded">üé≠ Poem</button>
  <button data-tab="chat" class="tab px-3 py-2 bg-blue-50 rounded">üí¨ Chatbot</button>
  <button data-tab="t2i" class="tab px-3 py-2 bg-blue-50 rounded">üé® Text‚ÜíImage</button>
  <button data-tab="i2c" class="tab px-3 py-2 bg-blue-50 rounded">üñºÔ∏è Image‚ÜíCaption</button>
</nav>

<!-- Panels -->
<section id="panel-story" class="panel bg-white p-4 rounded shadow space-y-3">
  <h2 class="font-semibold">Story Generator</h2>
  <div class="space-y-2">
    <input id="storyPrompt" class="border rounded px-3 py-2 w-full" placeholder="Enter a story prompt..." />
    <button id="storyBtn" class="px-4 py-2 bg-green-600 text-white rounded">Generate Story</button>
  </div>
  <pre id="storyOut" class="bg-gray-100 p-3 rounded text-sm whitespace-pre-wrap"></pre>
</section>

<section id="panel-poem" class="panel bg-white p-4 rounded shadow space-y-3 hidden">
  <h2 class="font-semibold">Poem Generator</h2>
  <div class="space-y-2">
    <input id="poemPrompt" class="border rounded px-3 py-2 w-full" placeholder="Enter a poem prompt..." />
    <button id="poemBtn" class="px-4 py-2 bg-green-600 text-white rounded">Generate Poem</button>
  </div>
  <pre id="poemOut" class="bg-gray-100 p-3 rounded text-sm whitespace-pre-wrap"></pre>
</section>

<section id="panel-chat" class="panel bg-white p-4 rounded shadow space-y-3 hidden">
  <h2 class="font-semibold">Chatbot</h2>
  <div class="space-y-2">
    <input id="chatInput" class="border rounded px-3 py-2 w-full" placeholder="Say something..." />
    <button id="chatSend" class="px-4 py-2 bg-green-600 text-white rounded">Send</button>
  </div>
  <div id="chatLog" class="space-y-2 text-sm"></div>
</section>

<section id="panel-t2i" class="panel bg-white p-4 rounded shadow space-y-3 hidden">
  <h2 class="font-semibold">Text ‚Üí Image</h2>
  <div class="grid gap-2 md:grid-cols-2">
    <input id="t2iPrompt" class="border rounded px-3 py-2" placeholder="Describe your image..." />
    <input id="t2iSteps" type="number" value="20" min="5" max="100" class="border rounded px-3 py-2" />
    <input id="t2iGuidance" type="number" value="7.5" step="0.5" class="border rounded px-3 py-2" />
    <select id="t2iSize" class="border rounded px-3 py-2">
      <option>512x512</option>
      <option>512x768</option>
      <option>768x512</option>
    </select>
  </div>
  <button id="t2iBtn" class="px-4 py-2 bg-purple-600 text-white rounded">Generate</button>
  <div id="t2iOut" class="space-y-3">
    <p class="text-sm text-gray-600">Result will appear here.</p>
  </div>
</section>

<section id="panel-i2c" class="panel bg-white p-4 rounded shadow space-y-3 hidden">
  <h2 class="font-semibold">Image ‚Üí Caption</h2>
  <input id="i2cFile" type="file" accept="image/*" class="border rounded px-3 py-2" />
  <button id="i2cBtn" class="px-4 py-2 bg-purple-600 text-white rounded">Caption</button>
  <pre id="i2cOut" class="bg-gray-100 p-3 rounded text-sm whitespace-pre-wrap"></pre>
</section>
</div> <script> // Simple tab logic const tabs = document.querySelectorAll('.tab'); const panels = document.querySelectorAll('.panel'); tabs.forEach(btn => { btn.addEventListener('click', () => { const name = btn.dataset.tab; panels.forEach(p => p.classList.add('hidden')); document.getElementById('panel-' + name).classList.remove('hidden'); }); }); // Token + demo controls const statusEl = document.getElementById('status'); const tokenInput = document.getElementById('hfToken'); const forceDemo = document.getElementById('forceDemo'); const saveBtn = document.getElementById('saveToken'); let bearer = null; saveBtn.onclick = () => { bearer = tokenInput.value.trim() || null; localStorage.setItem('hfToken', bearer || ''); localStorage.setItem('forceDemo', forceDemo.checked ? '1' : '0'); renderStatus(); }; window.addEventListener('load', () => { const saved = localStorage.getItem('hfToken') || ''; if (saved) bearer = saved; tokenInput.value = saved; forceDemo.checked = localStorage.getItem('forceDemo') === '1'; renderStatus(); }); function renderStatus() { const mode = forceDemo.checked ? 'DEMO (forced)' : (bearer ? 'ONLINE (token set)' : 'DEMO'); statusEl.textContent = `Mode: ${mode}`; } // Helper: fetch with optional auth unless demo forced async function authedFetch(url, options = {}) { const headers = options.headers || {}; if (!forceDemo.checked && bearer) headers['Authorization'] = 'Bearer ' + bearer; return fetch(url, { ...options, headers }); } // Story document.getElementById('storyBtn').onclick = async () => { const prompt = document.getElementById('storyPrompt').value.trim(); const out = document.getElementById('storyOut'); out.textContent = 'Generating...'; try { const r = await authedFetch('/api/text-generate', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ model: 'microsoft/DialoGPT-medium', inputs: `Write a short story based on: ${prompt}`, parameters: { max_new_tokens: 180, temperature: 0.8 } }) }); const data = await r.json(); if (data.error) throw new Error(JSON.stringify(data)); const text = Array.isArray(data.outputs) && data.outputs?.generated_text ? data.outputs.generated_text : JSON.stringify(data.outputs, null, 2); out.textContent = text; } catch (e) { out.textContent = 'Error: ' + e.message; } }; // Poem document.getElementById('poemBtn').onclick = async () => { const prompt = document.getElementById('poemPrompt').value.trim(); const out = document.getElementById('poemOut'); out.textContent = 'Generating...'; try { const r = await authedFetch('/api/text-generate', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ model: 'microsoft/DialoGPT-medium', inputs: `Compose a lyrical poem inspired by: ${prompt}`, parameters: { max_new_tokens: 120, temperature: 0.9 } }) }); const data = await r.json(); if (data.error) throw new Error(JSON.stringify(data)); const text = Array.isArray(data.outputs) && data.outputs?.generated_text ? data.outputs.generated_text : JSON.stringify(data.outputs, null, 2); out.textContent = text; } catch (e) { out.textContent = 'Error: ' + e.message; } }; // Chatbot (simple turn-based, no context window mgmt) const chatLog = document.getElementById('chatLog'); function addChat(role, text) { const div = document.createElement('div'); div.className = role === 'user' ? 'text-blue-900' : 'text-gray-900'; div.textContent = (role === 'user' ? 'You: ' : 'Bot: ') + text; chatLog.appendChild(div); } document.getElementById('chatSend').onclick = async () => { const input = document.getElementById('chatInput'); const msg = input.value.trim(); if (!msg) return; addChat('user', msg); input.value = ''; try { const r = await authedFetch('/api/text-generate', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ model: 'microsoft/DialoGPT-medium', inputs: msg, parameters: { max_new_tokens: 80, temperature: 0.8 } }) }); const data = await r.json(); const text = Array.isArray(data.outputs) && data.outputs?.generated_text ? data.outputs.generated_text : '[No response]'; addChat('bot', text); } catch (e) { addChat('bot', 'Error: ' + e.message); } }; // Text to Image document.getElementById('t2iBtn').onclick = async () => { const prompt = document.getElementById('t2iPrompt').value.trim(); const steps = parseInt(document.getElementById('t2iSteps').value, 10); const guidance = parseFloat(document.getElementById('t2iGuidance').value); const size = document.getElementById('t2iSize').value; const [w, h] = size.split('x').map(Number); const out = document.getElementById('t2iOut'); out.innerHTML = '<p class="text-sm">Generating...</p>'; try { const r = await authedFetch('/api/text-to-image', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ prompt, num_inference_steps: steps, guidance_scale: guidance, width: w, height: h }) }); const data = await r.json(); if (data.image_base64) { out.innerHTML = ''; const img = document.createElement('img'); img.src = data.image_base64; img.className = 'max-w-full rounded border'; out.appendChild(img); } else { out.innerHTML = '<p class="text-sm text-gray-600">Demo mode placeholder. Add a token to generate real images.</p>'; } } catch (e) { out.innerHTML = '<p class="text-sm text-red-700">Error: ' + e.message + '</p>'; } }; // Image to Caption document.getElementById('i2cBtn').onclick = async () => { const file = document.getElementById('i2cFile').files; const out = document.getElementById('i2cOut'); out.textContent = 'Processing...'; try { const fd = new FormData(); if (file) fd.append('image', file, file.name); const r = await authedFetch('/api/image-to-caption', { method: 'POST', body: fd }); const data = await r.json(); if (data.error) throw new Error(JSON.stringify(data)); out.textContent = data.caption || '[No caption]'; } catch (e) { out.textContent = 'Error: ' + e.message; } }; </script> </body> </html>